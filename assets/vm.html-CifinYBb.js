import{_ as g}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c,b as t,e as h,a as i,w as n,d as a,r as k,o}from"./app-CDRXeaD4.js";const A={};function y(F,s){const p=k("CodeTabs"),r=k("RouteLink"),d=k("Tabs");return o(),c("div",null,[s[18]||(s[18]=t(`<h2 id="vmware-workstation" tabindex="-1"><a class="header-anchor" href="#vmware-workstation"><span>VMware Workstation</span></a></h2><h3 id="虚拟交换机和网卡" tabindex="-1"><a class="header-anchor" href="#虚拟交换机和网卡"><span>虚拟交换机和网卡</span></a></h3><p>在VMware<code>虚拟网络编辑器</code>中，也有三个 <strong>虚拟交换机</strong> 分别对应不同的网络模式：</p><div class="hint-container info"><p class="hint-container-title">VMware相关网络虚拟设备</p><p>VMnet0：这是VMware用于虚拟 <code>桥接网络</code> 下的虚拟交换机;</p><p>VMnet1：这是VMware用于虚拟 <code>Host-Only</code> （仅主机）网络下的虚拟交换机;</p><p>VMnet8：这是VMware用于虚拟 <code>NAT网络</code> 下的虚拟交换机;</p></div><figure><img src="https://image.ventix.top/img02/20220122173703373.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>在主机的<code>网络连接</code>里面可以看到多了两块 <strong>网卡</strong> ：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">VMware</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Network</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Adapter</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> VMnet1：这是Host用于与Host-Only虚拟网络进行通信的虚拟网卡</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">VMware</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Network</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Adapter</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> VMnet8：这是Host用于与NAT虚拟网络进行通信的虚拟网卡</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>vmware为我们提供了三种网络工作模式，它们分别是：Bridged(桥接模式)、NAT(网络地址转换模式)、Host-Only(仅主机模式)。</p><h3 id="bridged-桥接" tabindex="-1"><a class="header-anchor" href="#bridged-桥接"><span>Bridged(桥接)</span></a></h3><p>桥接模式（Bridge Mode）通过将两个或多个局域网连接在一起，形成一个扩展的局域网，使得这些局域网的设备能够互相通信。在桥接模式中，设备之间的数据流量可以直接传输，并且不经过路由器进行转发。</p><p>桥接模式下所有虚拟机都和主机在同一网段，可以把它们看成是&quot;平等&quot;的关系</p><div class="hint-container tip"><p class="hint-container-title">Bridged(桥接模式)配置静态IP</p><ol><li>在VM的虚拟机 <code>设置</code> --&gt; <code>网络适配器</code> 将网络连接模式选择为桥接模式<br> 并确保 <code>编辑</code> --&gt; <code>虚拟网络编辑器</code> 中将桥接 <code>VMnet0</code> 桥接至主机中的正确网卡<br><img src="https://image.ventix.top/img02/20220122211601570.png" alt="" loading="lazy"></li><li>先通过 <code>ipconfig</code> 查看宿主机的网络信息（因为桥接模式虚拟机与宿主机在同一网段下）<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">连接特定的</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> DNS</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 后缀</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> :</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">IPv4</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 地址</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> :</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 192.168.243.54</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">子网掩码</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  .</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> :</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 255.255.255.0</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">默认网关.</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> .</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> :</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 192.168.243.158</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li>进入虚拟机修改配置文件，以CentOS7为例：</li></ol><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">vi</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /etc/sysconfig/network-scripts/ifcfg-ens33</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">   # 打开ifcfg-ens33⽂件，修改配置</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>在桥接模式下，虚拟机IP地址需要与主机在同一网段，如果需要联网，则网关与DNS需要与主机网卡一致:</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">BOOTPROTO</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">static</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">                  # 更改为静态 </span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">ONBOOT</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">yes</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">                        # 设置开机⾃动启⽤⽹络连接 </span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">IPADDR</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">192.168.243.222</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">            # 虚拟机的静态ip，</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">NETMASK</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">255.255.255.0</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">             # 和 主机 的子网掩码一致 </span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">GATEWAY</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">192.168.243.158</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">           # 和 主机 的网关IP一致 </span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">DNS1</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">192.168.243.158</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">              # 和 主机 的网关IP一致</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>修改完成后重启网络：<code>service network restart </code></p></div><p>验证联网情况【可以和本机互通、也可以访问互联网】</p><div class="hint-container info"><p class="hint-container-title">主机防火墙及入站规则配置</p><p>注意在虚拟机内能 ping 通外网，如<code>www.baidu.com</code>，但是 ping 主机 IP 没有任何反应，这种情况大概率是主机防火墙阻止了 ICMP，可以添加一条入站规则来解决：</p><p>打开“Windows Defender 防火墙” -&gt; “高级设置” -&gt; “入站规则”，创建一条允许 ICMPv4 或 ICMPv6 的规则</p></div><p>桥接模式IP地址资源有限，存在IP冲突的可能，主机所在网络环境不稳定或者设备多时不建议使用</p><h3 id="nat模式" tabindex="-1"><a class="header-anchor" href="#nat模式"><span>NAT模式</span></a></h3><p>在NAT(网络地址转换模式)中，会使用到VMnet8虚拟交换机，物理机上的 <code>VMware Network Adapter VMnet8 虚拟网卡</code> 将会和 <code>VMnet8交换机</code>相连接，来实现物理机与虚拟机之间的通信。</p><div class="hint-container important"><p class="hint-container-title">NAT(网络地址转换模式)设置</p><ol><li><p>在系统的虚拟机设置中将网络连接模式设置为NAT模式：</p></li><li><p>通过 VMware的【虚拟网络编辑器】，查看并记住VMnet8 对应的 网关地址、子网掩码等信息</p></li><li><p>进入虚拟机修改配置文件， 具体操作参照：<a href="#%E8%99%9A%E6%8B%9F%E6%9C%BA%E9%9D%99%E6%80%81%E7%BD%91%E7%BB%9Cip">虚拟机静态网络IP设置</a></p></li></ol></div><p>注意：<code>VMware Network Adapter VMnet8 虚拟网卡</code> 仅仅是用于主机和VMnet8网段通信使用，它并不为VMnet8网段提供路由功能，处于虚拟NAT网络下的Guest是使用虚拟的NAT服务器连接的Internet的。</p><p>VMware Network Adapter VMnet8虚拟网卡它仅仅是为Host和NAT虚拟网络下的Guest通信提供一个接口，所以，即便禁用掉这块虚拟网卡，虚拟机仍然是可以上网的，只是物理机将无法再访问虚拟机了。</p><h3 id="仅主机模式" tabindex="-1"><a class="header-anchor" href="#仅主机模式"><span>仅主机模式</span></a></h3><p>Host-Only(仅主机模式) 可看成是NAT模式去除了虚拟NAT设备，然后使用VMware Network Adapter VMnet1虚拟网卡连接VMnet1虚拟交换机来与虚拟机通信的，Host-Only模式将虚拟机与外网隔开，使得虚拟机成为一个独立的系统，只与主机相互通讯。</p><p>网络: <strong>虚拟机是不可访问主机和互联网的，但主机可以访问虚拟机</strong></p><p>更多信息参照：<a href="https://cloud.tencent.com/developer/article/2452065" target="_blank" rel="noopener noreferrer">虚拟机网络设置</a></p><h3 id="虚拟机静态网络ip" tabindex="-1"><a class="header-anchor" href="#虚拟机静态网络ip"><span>虚拟机静态网络IP</span></a></h3><p>NAT模式下虚拟机IP可能会变，我们可以通过设置静态 IP ，这样的话 IP 就不会发生改变</p><p>VMware 点击 编辑 ——&gt; 虚拟网络编辑器 (如图：)</p><figure><img src="https://image.ventix.top/img01/202101101724339.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>注意图中的 NETMASH 有误，应该是 <code>NETMASK</code>，该选项也可以配置为：<code>PREFIX=24</code></p>`,29)),h(p,{id:"139",data:[{id:"Ubuntu"},{id:"Centos7"},{id:"Rocky"}],active:2,"tab-id":"shell"},{title0:n(({value:l,isActive:e})=>s[0]||(s[0]=[a("Ubuntu")])),title1:n(({value:l,isActive:e})=>s[1]||(s[1]=[a("Centos7")])),title2:n(({value:l,isActive:e})=>s[2]||(s[2]=[a("Rocky")])),tab0:n(({value:l,isActive:e})=>s[3]||(s[3]=[i("div",{class:"language-bash line-numbers-mode","data-highlighter":"shiki","data-ext":"bash","data-title":"bash",style:{"--shiki-light":"#383A42","--shiki-dark":"#abb2bf","--shiki-light-bg":"#FAFAFA","--shiki-dark-bg":"#282c34"}},[i("pre",{class:"shiki shiki-themes one-light one-dark-pro vp-code"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"sudo"),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}}," vim"),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}}," /etc/netplan/00-installer-config.yaml"),i("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"   # 文件名可能会不同")]),a(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"sudo"),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}}," netplan"),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}}," apply"),i("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"                               # 应用更改")])])]),i("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[i("div",{class:"line-number"}),i("div",{class:"line-number"})])],-1)])),tab1:n(({value:l,isActive:e})=>s[4]||(s[4]=[i("div",{class:"language-bash line-numbers-mode","data-highlighter":"shiki","data-ext":"bash","data-title":"bash",style:{"--shiki-light":"#383A42","--shiki-dark":"#abb2bf","--shiki-light-bg":"#FAFAFA","--shiki-dark-bg":"#282c34"}},[i("pre",{class:"shiki shiki-themes one-light one-dark-pro vp-code"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"ip"),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}}," addr")]),a(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"vim"),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}}," /etc/sysconfig/network-scripts/ifcfg-ens33")]),a(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"service"),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}}," network"),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}}," restart"),i("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"  # 刷新网络服务 centos8使用: ifup  ens33")])])]),i("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"})])],-1)])),tab2:n(({value:l,isActive:e})=>s[5]||(s[5]=[i("div",{class:"language-bash line-numbers-mode","data-highlighter":"shiki","data-ext":"bash","data-title":"bash",style:{"--shiki-light":"#383A42","--shiki-dark":"#abb2bf","--shiki-light-bg":"#FAFAFA","--shiki-dark-bg":"#282c34"}},[i("pre",{class:"shiki shiki-themes one-light one-dark-pro vp-code"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"ifconfig")]),a(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"vim"),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}}," /etc/sysconfig/network-scripts/ifcfg-ens160")]),a(`
`),i("span",{class:"line"}),a(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"# NetworkManager 提供了一个命令行工具 nmcli 来管理和配置网络连接")]),a(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"sudo"),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}}," nmcli"),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}}," connection"),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}}," reload"),i("span",{style:{"--shiki-light":"#383A42","--shiki-dark":"#ABB2BF"}}," && "),i("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"sudo"),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}}," nmcli"),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}}," connection"),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}}," up"),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}}," ens160")]),a(`
`),i("span",{class:"line"}),a(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#A0A1A7","--shiki-light-font-style":"italic","--shiki-dark":"#7F848E","--shiki-dark-font-style":"italic"}},"# 也可以使用 systemctl 重启 NetworkManager 服务")]),a(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"systemctl"),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}}," restart"),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}}," NetworkManager")])])]),i("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"}),i("div",{class:"line-number"})])],-1)])),_:1}),s[19]||(s[19]=t(`<details class="hint-container details"><summary>CentOS —— ifcfg-ens33</summary><p>Centos下的网络配置文件内容参考：</p><div class="language-properties line-numbers-mode" data-highlighter="shiki" data-ext="properties" data-title="properties" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">TYPE</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">Ethernet</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">PROXY_METHOD</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">none</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">BROWSER_ONLY</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">no</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">BOOTPROTO</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">static</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">DEFROUTE</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">yes</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">IPV4_FAILURE_FATAL</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">no</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">IPV6INIT</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">yes</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">IPV6_AUTOCONF</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">yes</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">IPV6_DEFROUTE</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">yes</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">IPV6_FAILURE_FATAL</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">no</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">IPV6_ADDR_GEN_MODE</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">stable-privacy</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">NAME</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">ens33</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">UUID</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">ee4084e5-a3b6-43f0-8b06-80a20d647a10</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">DEVICE</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">ens33</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">ONBOOT</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">yes</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">IPADDR</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">192.168.16.10</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">NETMASK</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">255.255.255.0</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">GATEWAY</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">192.168.16.2</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">DNS1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">192.168.16.2</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></details><details class="hint-container details"><summary>Ubuntu —— 00-installer-config.yaml</summary><p>Ubuntu下网络配置文件参考：</p><div class="language-yaml line-numbers-mode" data-highlighter="shiki" data-ext="yaml" data-title="yaml" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># This is the network config written by &#39;subiquity&#39;</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">network</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  ethernets</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">    ens33</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">      dhcp4</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">false</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">      addresses</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: [</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">192.168.42.11/24</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">      gateway4</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">192.168.42.2</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">      nameservers</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">              addresses</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: [</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">8.8.8.8</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1.1.1.1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  version</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></details><br><h3 id="添加硬盘或扩容" tabindex="-1"><a class="header-anchor" href="#添加硬盘或扩容"><span>添加硬盘或扩容</span></a></h3><ol><li>给Linux虚拟机添加硬盘</li></ol><p>关机后在虚拟机编辑中添加硬盘，选择类型（传统硬盘如SATA、SCSI等，固态硬盘SSD）和大小后确定即可</p><p>再次开机时选择 <code>打开电源时进入固件</code> 调整系统盘的顺序正确即可</p>`,7)),i("p",null,[s[7]||(s[7]=a("进入Linux系统后可以使用 ")),s[8]||(s[8]=i("code",null,"lsblk",-1)),s[9]||(s[9]=a(" 命令查看硬盘信息，确保硬盘被正确识别后进行 ")),h(r,{to:"/tool/Linux/setting.html#%E7%A1%AC%E7%9B%98%E5%88%86%E5%8C%BA%E5%92%8C%E6%8C%82%E8%BD%BD"},{default:n(()=>s[6]||(s[6]=[a("分区和挂载")])),_:1,__:[6]})]),s[20]||(s[20]=t(`<hr><ol start="2"><li>给VMware下的Linux扩展磁盘空间（以CentOS7为例）</li></ol><div class="hint-container info"><p class="hint-container-title">扩容步骤</p><p>一 关闭虚拟机，删除快照，按如下步骤扩容 ：</p><p><code>VM -&gt; Settings... -&gt; Hardware -&gt; Hard Disk -&gt; Utilities -&gt; Expand</code></p><p>输入你想要扩展到多少G。（本次新增加了 30G）</p><br><p>二 对新增加的硬盘进行分区、格式化</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">df</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -h</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">              # 查看硬盘信息和挂载点</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">fdisk</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -l</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">           # 查看磁盘信息</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">fdisk</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /dev/sda　　</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">   # 操作 /dev/sda 的分区表</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> p　　　　　　　</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">     # 查看已分区数量（我看到有两个 /dev/sda1 /dev/sda2）</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> n　　　　　　　</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">     # 新增加一个分区</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> p　　　　　　　</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">     # 分区类型我们选择为主分区</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 3　　　　　　　</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">     # 分区号选3（因为1,2已经用过了，见上）</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 回车　　　　　</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">      # 默认（起始扇区）</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 回车　　　　　</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">      # 默认（结束扇区）</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> t　　　　　　　</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">     # 修改分区类型</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 3　　　　　　　</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">     # 选分区3</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 8e　　　　　　</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">      # 修改为LVM（8e就是LVM）</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> w　　　　　　</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">       # 写分区表</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> q　　　　　　</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">       # 完成，退出fdisk命令</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 系统提示你重启，重启系统即可</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">mkfs.ext3</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /dev/sda3</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">  # 开机后，格式化sda3</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><br><p>三 添加新LVM到已有的LVM组，实现扩容</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">lvm　　　　　　　　　　　　　　　　　　</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">       #进入lvm管理</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">lvm</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt; </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">pvcreate</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /dev/sda3　　　　　　　　　</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">    #这是初始化刚才的分区，必须的</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">lvm</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt; </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">vgextend</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> centos</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /dev/sda3　　　</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">        #将初始化过的分区加入到虚拟卷组vg_dc01</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">lvm</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt; </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">lvextend</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -L</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> +29.9G</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /dev/centos/root　　#扩展已有卷的容量（实际大小会比30G略小）</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">lvm</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt; </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">pvdisplay　　　　　　　　　　　　　　</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">    #查看卷容量，这时你会看到一个很大的卷了</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">lvm</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt; </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">quit　　　　　　　　　　　　　　　　　</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">    #退出</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><p>以上只是卷扩容了，下面是文件系统的真正扩容，输入以下命令：</p>`,4)),h(d,{id:"217",data:[{id:"Centos6"},{id:"Centos7+"}]},{title0:n(({value:l,isActive:e})=>s[10]||(s[10]=[a("Centos6")])),title1:n(({value:l,isActive:e})=>s[11]||(s[11]=[a("Centos7+")])),tab0:n(({value:l,isActive:e})=>s[12]||(s[12]=[i("div",{class:"language-bash line-numbers-mode","data-highlighter":"shiki","data-ext":"bash","data-title":"bash",style:{"--shiki-light":"#383A42","--shiki-dark":"#abb2bf","--shiki-light-bg":"#FAFAFA","--shiki-dark-bg":"#282c34"}},[i("pre",{class:"shiki shiki-themes one-light one-dark-pro vp-code"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"resize2fs"),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}}," /dev/centos/root")])])]),i("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[i("div",{class:"line-number"})])],-1)])),tab1:n(({value:l,isActive:e})=>s[13]||(s[13]=[i("div",{class:"language-bash line-numbers-mode","data-highlighter":"shiki","data-ext":"bash","data-title":"bash",style:{"--shiki-light":"#383A42","--shiki-dark":"#abb2bf","--shiki-light-bg":"#FAFAFA","--shiki-dark-bg":"#282c34"}},[i("pre",{class:"shiki shiki-themes one-light one-dark-pro vp-code"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"xfs_growfs"),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}}," /dev/centos/root")])])]),i("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[i("div",{class:"line-number"})])],-1)])),_:1}),s[21]||(s[21]=t(`<br><h3 id="虚拟机自启动设置" tabindex="-1"><a class="header-anchor" href="#虚拟机自启动设置"><span>虚拟机自启动设置</span></a></h3><p>创建启动/关闭脚本:</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 在系统的某个安静的盘中创建一个vm_start.bat文件，然后使用编辑器打开。写入: </span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">&quot;C:\\Program Files (x86)\\VMware\\VMware Workstation\\vmrun.exe&quot;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> start</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;D:\\VirtualMachines\\DevMachines\\DevMachines.vmx&quot;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> nogui</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 再次创建一个vm_stop.bat文件</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">&quot;C:\\Program Files (x86)\\VMware\\VMware Workstation\\vmrun.exe&quot;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> stop</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;D:\\VirtualMachines\\DevMachines\\DevMachines.vmx&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">#测试运行文件: 双击启动文件vm_start.bat，如果弹出dos窗口且虚拟机启动则无误,双击停止文件vm_stop.bat，如果弹出dos窗口且虚拟机停止则无误</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><br><p>添加到自启动任务:</p><p><code>Win+ R</code> -&gt; <code>gpedit.msc</code> -&gt; 用户配置 -&gt; windows设置 -&gt; 鼠标双击脚本(登录/注销) -&gt; 鼠标双击“登录”或“注销”分别添加启动、关闭脚本</p><p>【Q】主机访问不到虚拟机的服务的解决办法: 检查防火墙状态</p><br><h2 id="oracle-virtualbox" tabindex="-1"><a class="header-anchor" href="#oracle-virtualbox"><span>Oracle VirtualBox</span></a></h2><h3 id="virtualbox安装" tabindex="-1"><a class="header-anchor" href="#virtualbox安装"><span>VirtualBox安装</span></a></h3><ol><li><p>下载安装 <a href="https://www.virtualbox.org/" target="_blank" rel="noopener noreferrer">Virtual box</a> 的<code>主程序</code>和<code>拓展包</code>，安装后修改虚拟机存放位置（需要cpu开启虚拟化）</p><br></li><li><p>下载安装 <a href="https://www.vagrantup.com/" target="_blank" rel="noopener noreferrer">Vagrant</a> （ Vagrant 是没有图形界面的，安装程序会自动把安装路径加入到 PATH 环境变量 ）</p></li></ol><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>vagrant version</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li>配置vagrant (虚拟机镜像文件存储目录，默认为：C:\\Users\\用户名.vagrant.d) —— <code>VAGRANT_HOME</code></li></ul><figure><img src="https://image.ventix.top/img01/202101101726397.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><br><h3 id="下载vagrant镜像" tabindex="-1"><a class="header-anchor" href="#下载vagrant镜像"><span>下载Vagrant镜像</span></a></h3><p>使用 Vagrant 创建虚机时，需要指定一个镜像，也就是 box。开始这个 box 不存在，所以 Vagrant 会先从网上（<a href="https://app.vagrantup.com/boxes/search" target="_blank" rel="noopener noreferrer">镜像网站</a>）下载，然后缓存在本地目录中。但默认下载往往会比较慢，我们可以自己下载镜像文件。常用的两个 Linux 操作系统镜像的下载地址：</p><ul><li><p>CentOS <a href="http://cloud.centos.org/centos/" target="_blank" rel="noopener noreferrer">官网下载</a> ，<a href="http://cloud.centos.org/centos/7/vagrant/x86_64/images/CentOS-7.box" target="_blank" rel="noopener noreferrer">CentOS-7.box （点击下载）</a> 列表中有一个 vagrant 目录，选择其中的 .box 后缀的文件下载即可。</p></li><li><p>Ubuntu <a href="http://cloud-images.ubuntu.com/" target="_blank" rel="noopener noreferrer">官网下载</a> ，<a href="https://mirror.tuna.tsinghua.edu.cn/ubuntu-cloud-images/" target="_blank" rel="noopener noreferrer">清华大学镜像站下载</a> ，同样选择针对 vagrant 的 .box 文件即可。</p></li></ul><p>添加 box ：接下来我们需要将下载后的 .box 文件添加到 vagrant 中：</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" data-title="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 如果这是第一次运行，此时 VAGRANT_HOME 目录下会自动生成若干的文件和文件夹，其中有一个 boxes 文件夹，</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 这就是要存放 box 文件的地方。</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">vagrant</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> box</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> list</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">#执行 vagrant box add 命令添加 box: (命令后面跟着的是镜像文件的路径，通过 --name centos-7 为这个 box 指定名字)</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">vagrant</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> box</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> add</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> E:</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">\\P</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">ackage</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">\\V</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">M</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">\\V</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">irtualBox</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">\\C</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">entOS-7.box</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --name</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> centos-7</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">vagrant</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> box</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> list</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">        #再次查询，可以看到有了一个 box</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><br><h3 id="vagrant新建虚拟机" tabindex="-1"><a class="header-anchor" href="#vagrant新建虚拟机"><span>Vagrant新建虚拟机</span></a></h3><p>先进入vagrant工作目录（Vagrantfile所在的目录）再执行命令</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">vagrant</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> init</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> centos-7</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">vagrant</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> up</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>首次执行会先安装再启动，之后就是启动的功能（注意要在Vagrantfile所在的目录执行）</p><div class="hint-container info"><p class="hint-container-title">Vagrant常用命令</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" data-title="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">vagrant</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> status</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">         #查看虚拟机状态</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">vagrant</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ssh</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">            #以 vagrant 用户直接登入虚拟机中，使用 exit; 退出</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">vagrant</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> halt</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">           #关闭虚拟机</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">vagrant</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> suspend</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">        #暂停虚拟机</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">vagrant</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> resume</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">         #恢复虚拟机</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">vagrant</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> reload</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">         #重载虚拟机(可能会重启失败，需要重启宿主机才能开机虚拟机)</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">vagrant</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> destroy</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">        #删除虚拟机</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><p>配置私有网络：</p><p>上述创建的虚拟机网络默认使用的是 <code>网络地址转换（NAT）+ 端口转发</code> 的方式，</p><p>我们需要修改 <code>Vagrantfile</code>，为虚拟机设置指定的私有网络地址：</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" data-title="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 取消改行的注释，根据下图宿主机的IP地址，修改前三段地址一致即可</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">config.vm.network</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;private_network&quot;,</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ip:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;192.168.56.10&quot;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><br><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>ipconfig</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><figure><img src="https://image.ventix.top/img01/202101101727590.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" data-title="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 修改Vagrantfile文件后，需要重启虚拟机，若重启失败可删除重装，先修改Vagrantfile，再vagrant up</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">vagrant</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> reload</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><br><p>更改虚拟机配置（<a href="https://www.vagrantup.com/docs/providers/virtualbox/configuration" target="_blank" rel="noopener noreferrer">Provider配置</a>）</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" data-title="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">config.vm.provider</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;virtualbox&quot;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> do</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> |</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">v</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">|</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">v.memory</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> =</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 4096</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">v.cpus</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> =</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 4</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">end</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>【注意】修改Vagrantfile可能会导致虚拟机无法启动，可在安装前先修改好Vagrantfile文件。系统用户密码均为 ：vagrant</p></blockquote><br><h2 id="linux安装和设置" tabindex="-1"><a class="header-anchor" href="#linux安装和设置"><span>Linux安装和设置</span></a></h2><h3 id="centos" tabindex="-1"><a class="header-anchor" href="#centos"><span>CentOS</span></a></h3><p>安装CentOS时，推荐使用自定义分区，使用标准分区方式分为：<code>/boot</code> 1G，<code>/swap</code> 4G，剩余全给 <code>/</code></p><p>其他推荐的设置：</p><ul><li>注意选择安装 <code>server</code>，没必要使用默认的GUI界面</li><li>将时区选择为 <code>Asia/Shanghai</code></li><li>配置静态IP：IPv4选项中选择 <code>munual</code> 而不是 <code>dhcp</code> , 并添加自定义IP</li></ul><div class="hint-container tip"><p class="hint-container-title">Windows Terminal 连接 VM 中的虚拟机</p><p>前置条件：VM中的Linux虚拟机需要运行 sshd 服务，且防火墙开放22端口</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># Windows Terminal 中执行下列命令连接虚拟机</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">ssh</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> root@192.168.243.222</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>虚拟机的IP地址可通过 <code>ip addr show</code> 或者 <code>ifconfig</code> 查看</p><p>第一次连接时，可能会提示你确认主机的指纹，输入 <code>yes</code> 并按回车键继续，输入密码即可</p><p><strong>配置 Windows Terminal 快速访问</strong><br> 在Windows Terminal 中，通过 <code>设置</code> --&gt; <code>添加新配置文件</code> :</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">{</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    &quot;name&quot;</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;CentOS7&quot;,</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    &quot;commandline&quot;</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;ssh root@192.168.243.222&quot;,</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    &quot;startingDirectory&quot;</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;%USERPROFILE%&quot;,</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    &quot;icon&quot;</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;xxx.png&quot;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><p>在重新安装系统，但是使用了与之前相同的IP，在终端中可能会出现：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">@</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">    WARNING:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> REMOTE</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> HOST</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> IDENTIFICATION</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> HAS</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> CHANGED!</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">     @</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">IT</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> IS</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> POSSIBLE</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> THAT</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> SOMEONE</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> IS</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> DOING</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> SOMETHING</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> NASTY!</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">Someone</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> could</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> be</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> eavesdropping</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> on</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> you</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> right</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> now</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (man-in-the-middle </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">attack</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)!</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">It</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> is</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> also</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> possible</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> that</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> a</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> host</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> key</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> has</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> just</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> been</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> changed.</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">The</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> fingerprint</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> for</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> the</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ED25519</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> key</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> sent</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> by</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> the</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> remote</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> host</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> is</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">SHA256:2ULWhC8+ftFced58wmhGFvmaC8ni0nXq5lN3IoMQ0hQ.</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">Please</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> contact</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> your</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> system</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> administrator.</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">Add</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> correct</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> host</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> key</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> in</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> C:</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">\\\\</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">Users</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">\\\\</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">admin/.ssh/known_hosts</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> to</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> get</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> rid</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> of</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> this</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> message.</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">Offending</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ECDSA</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> key</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> in</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> C:</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">\\\\</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">Users</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">\\\\</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">admin/.ssh/known_hosts:13</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">Host</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> key</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> for</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 192.168.16.80</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> has</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> changed</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> and</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> you</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> have</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> requested</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> strict</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> checking.</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">Host</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> key</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> verification</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> failed.</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>此时执行下列命令（从本地 <code>~/.ssh/known_hosts</code> 文件中删除与 该 IP 地址 相关联的条目）：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">ssh-keygen</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -R</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 192.168.16.80</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">   # IP换成自己服务器的地址</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><hr><h3 id="ubuntu" tabindex="-1"><a class="header-anchor" href="#ubuntu"><span>Ubuntu</span></a></h3><p>官网：<a href="https://ubuntu.com/" target="_blank" rel="noopener noreferrer">https://ubuntu.com/</a></p><p><strong>1. vm tools</strong><br><a href="https://docs.vmware.com/cn/VMware-Tools/11.3.0/com.vmware.vsphere.vmwaretools.doc/GUID-C48E1F14-240D-4DD1-8D4C-25B6EBE4BB0F.html" target="_blank" rel="noopener noreferrer">安装 Open VM Tools</a></p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">请确保已更新软件包索引：</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> apt-get</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> update</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">如果虚拟机具有</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> GUI（X11</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 等），请安装或升级</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> open-vm-tools-desktop：</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> apt-get</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> install</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> open-vm-tools-desktop</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">否则，请使用以下命令安装</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> open-vm-tools：</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> apt-get</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> install</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> open-vm-tools</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><br><p><strong>2. 语言和输入法</strong></p><br><br><h3 id="manjaro" tabindex="-1"><a class="header-anchor" href="#manjaro"><span>Manjaro</span></a></h3><p><strong>1. vm tools</strong><br> Manjaro原版中的open-vm-tools与VMware不匹配</p><p>Github地址：<a href="https://github.com/rasa/vmware-tools-patches" target="_blank" rel="noopener noreferrer">https://github.com/rasa/vmware-tools-patches</a></p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">1、卸载open-vm-tools</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> pacman</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -R</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> open-vm-tools</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">2、下载vmwaretools补丁</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">git</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> clone</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> https://github.com/rasa/vmware-tools-patches.git</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">3、进入vmware-tools-patches目录</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">cd</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> vmware-tools-patches</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">4、运行补丁</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ./patched-open-vm-tools.sh</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">5、重启</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">reboot</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><br><p><strong>2. AUR助手</strong><br> Yay (Yet another Yogurt) 是一个 AUR 助手，它允许用户在 Manjaro 上安装和管理软件包系统。<br> 在安装过程中，它会自动从 PKGBUIDS 安装软件包。Yay 取代了早已停产的 Aurman 和 Yaourt。<br> 自发布以来，Yay 已被证明是出色的帮手，并且是原生 Pacman 包管理器的完美替代品。</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> pacman</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -Syu</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">                      # 更新系统</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> pacman</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -S</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> yay</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">                    # 下载yay</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">yay</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -S</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 软件名</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">                          # 安装软件</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">yay</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -R</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 软件名</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">                          # 卸载软件</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">yay</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -Ss</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 软件模糊名（或者精确的名字）</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">     # 搜索软件</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">yay</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -S</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> google-chrome</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">                  # 安装Chrome</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><br><p><strong>3. 安装deb包</strong></p><p>arch 系列如果要安装 dep 软件包，需要通过 deptap 工具转换后才能安装</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">1、安装debtap：使用yay安装debtap，</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> pacman</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -S</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> yay</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">   # 如果没有yay，需要使用pacman安装yay：</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> yay</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -S</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> debtap</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">   # 安装debtap：</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">2、deb包转换arch包，需要先运行下述命令，否则会出错：</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> debtap</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -u</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> debtap</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -q</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> xxxxx.deb</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">   #使用debtap将deb包转换为arch包</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 在转换过程中会提示是否需要编辑相关信息，直接按回车即可，转换完成后，将会生成一个后缀为.pkg.tar.rst的文件。</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">3、安装，使用pacman安装转换的arch包：</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> pacman</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -U</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> xxxx.pkg.tar.rst</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><br><h3 id="on-my-zsh" tabindex="-1"><a class="header-anchor" href="#on-my-zsh"><span>On-my-zsh</span></a></h3><p>什么是zsh: <a href="https://blog.csdn.net/lovedingd/article/details/124128721" target="_blank" rel="noopener noreferrer">https://blog.csdn.net/lovedingd/article/details/124128721</a><br> 和bash一样，zsh也是终端内的一个命令行解释器，简称：shell。顾名思义就是机器外面的一层壳，用于人机交互。接收用户或其他程序的命令，把这些命令转化成内核能理解的语言。</p><p>具体表现为其作用是用户输入一条命令，shell 就立即解释执行一条。不局限于系统、语言等概念、操作方式和表现方式等。比如：我们使用的cd、wget、curl和mount等命令。</p><p>传统的shell（如：bash），命令和显示的文字以单色为主；而zsh不仅支持彩色字体，还支持命令填充：</p><p>一般情况下，Linux是不自带zsh的，你可以使用命令查看，终端输入：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">cat</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /etc/shells</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>正常情况下，应该是没有/bin/zsh的, 解决方法很简单，使用apt-get或者yum安装即可</p>`,78)),h(p,{id:"451",data:[{id:"Centos"},{id:"Ubuntu"}],"tab-id":"shell"},{title0:n(({value:l,isActive:e})=>s[14]||(s[14]=[a("Centos")])),title1:n(({value:l,isActive:e})=>s[15]||(s[15]=[a("Ubuntu")])),tab0:n(({value:l,isActive:e})=>s[16]||(s[16]=[i("div",{class:"language-bash line-numbers-mode","data-highlighter":"shiki","data-ext":"bash","data-title":"bash",style:{"--shiki-light":"#383A42","--shiki-dark":"#abb2bf","--shiki-light-bg":"#FAFAFA","--shiki-dark-bg":"#282c34"}},[i("pre",{class:"shiki shiki-themes one-light one-dark-pro vp-code"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"yum"),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}}," install"),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}}," zsh")])])]),i("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[i("div",{class:"line-number"})])],-1)])),tab1:n(({value:l,isActive:e})=>s[17]||(s[17]=[i("div",{class:"language-bash line-numbers-mode","data-highlighter":"shiki","data-ext":"bash","data-title":"bash",style:{"--shiki-light":"#383A42","--shiki-dark":"#abb2bf","--shiki-light-bg":"#FAFAFA","--shiki-dark-bg":"#282c34"}},[i("pre",{class:"shiki shiki-themes one-light one-dark-pro vp-code"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#4078F2","--shiki-dark":"#61AFEF"}},"apt-get"),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}}," install"),i("span",{style:{"--shiki-light":"#50A14F","--shiki-dark":"#98C379"}}," zsh")])])]),i("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[i("div",{class:"line-number"})])],-1)])),_:1}),s[22]||(s[22]=t(`<p>安装后，重新使用<code>cat /etc/shells</code>命令查看，最后，设置为默认shell并重启终端：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">chsh</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -s</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /bin/zsh</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">exit</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><br><p>Oh-my-zsh十分简单，可以看看项目地址：<a href="https://github.com/ohmyzsh/ohmyzsh" target="_blank" rel="noopener noreferrer">https://github.com/ohmyzsh/ohmyzsh</a></p><p>官方配置非常简单，但是因为项目官方脚本在GitHub的原因，国内访问可能有点困难</p><p>官方安装--&gt;Linux/Mac打开终端，输入官方提供的脚本：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sh</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -c</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;$(</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">curl</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -fsSL</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> https://raw.githubusercontent.com/ohmyzsh/ohmyzsh/master/tools/install.sh)&quot;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>为了保证脚本能顺利运行，你的Linux/Mac服务器需要：</p><ul><li>提前安装git、curl</li><li>可以成功连接GitHub</li><li>如果有~/.zshrc文件，最好提前备份</li></ul><br><p>脚本安装, 考虑到官方的方法，需要连接GitHub；如果你的设备无法有效访问GitHub。可以使用下列的脚本：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span></span></span>
<span class="line"><span>zsh -c &quot;$(curl -fsSL &#39;https://api.host.mintimate.cn/fileHost/public/download/1P0R&#39;)&quot;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>为了保证脚本能顺利运行，你的Linux/Mac服务器需要：</p><ul><li>提前安装curl、unzip</li><li>如果有~/.zshrc文件，最好提前备份，否则本脚本自动更改原本的.zshrc文件为zshrcBak</li></ul><br> 手动安装 其实，手动配置重复的内容就是我写的脚本配置： <ul><li>在oh-my-zsh的github主页，手动将zip包下载下来。</li><li>将zip包解压，拷贝至~/.oh-my-zsh目录。</li><li>执行cp ~/.oh-my-zsh/templates/zshrc.zsh-template ~/.zshrc<br> 或手动复制<sub>/.oh-my-zsh/templates/zshrc.zsh-template内文件内容到</sub>/.zshrc内。<br> （如果没有~/.zshrc文件，可以手动创建）</li><li>重启终端或终端输入source ~/.zshrc使配置生效</li></ul><br> On-my-zsh的功能和使用简介： <ul><li><p>自带填充：主要使用到zsh的Tab功能</p></li><li><p>粘贴自动转义：<br> 使用Oh-my-zsh，默认是使用自动粘贴转义。但是这样容易出差错。<br> 为此，如果需要关闭自动转义，可以打开~/.zshrc文件，添加DISABLE_MAGIC_FUNCTIONS=true字段</p></li></ul><p>zsh的强大不仅仅如此，还可以安装更多强大插件，感兴趣可以自己进行探索。<br> 而Oh-my-zsh的使用也不仅仅如此，可以自行阅读开发者文档：<a href="https://github.com/ohmyzsh/ohmyzsh" target="_blank" rel="noopener noreferrer">https://github.com/ohmyzsh/ohmyzsh</a></p>`,21))])}const u=g(A,[["render",y],["__file","vm.html.vue"]]),m=JSON.parse('{"path":"/posts/om/vm.html","title":"Virtual Machines | Linux安装  | 终端工具","lang":"en-US","frontmatter":{"article":true,"date":"2022-04-06T00:00:00.000Z","category":["虚拟机","Linux"],"tag":["Virtual Machines","VMware","Xshell","VM","Linux","CentOS"],"shortTitle":"VM和Linux安装","title":"Virtual Machines | Linux安装  | 终端工具","description":"VMware Workstation 虚拟交换机和网卡 在VMware虚拟网络编辑器中，也有三个 虚拟交换机 分别对应不同的网络模式： VMware相关网络虚拟设备 VMnet0：这是VMware用于虚拟 桥接网络 下的虚拟交换机; VMnet1：这是VMware用于虚拟 Host-Only （仅主机）网络下的虚拟交换机; VMnet8：这是VMwar...","head":[["meta",{"property":"og:url","content":"https://x.app/posts/om/vm.html"}],["meta",{"property":"og:site_name","content":"doc"}],["meta",{"property":"og:title","content":"Virtual Machines | Linux安装  | 终端工具"}],["meta",{"property":"og:description","content":"VMware Workstation 虚拟交换机和网卡 在VMware虚拟网络编辑器中，也有三个 虚拟交换机 分别对应不同的网络模式： VMware相关网络虚拟设备 VMnet0：这是VMware用于虚拟 桥接网络 下的虚拟交换机; VMnet1：这是VMware用于虚拟 Host-Only （仅主机）网络下的虚拟交换机; VMnet8：这是VMwar..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://image.ventix.top/img02/20220122173703373.png"}],["meta",{"property":"og:locale","content":"en-US"}],["meta",{"property":"og:updated_time","content":"2025-02-04T07:02:53.000Z"}],["meta",{"property":"article:author","content":"ventixy"}],["meta",{"property":"article:tag","content":"Virtual Machines"}],["meta",{"property":"article:tag","content":"VMware"}],["meta",{"property":"article:tag","content":"Xshell"}],["meta",{"property":"article:tag","content":"VM"}],["meta",{"property":"article:tag","content":"Linux"}],["meta",{"property":"article:tag","content":"CentOS"}],["meta",{"property":"article:published_time","content":"2022-04-06T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2025-02-04T07:02:53.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Virtual Machines | Linux安装  | 终端工具\\",\\"image\\":[\\"https://image.ventix.top/img02/20220122173703373.png\\",\\"https://image.ventix.top/img02/20220122211601570.png\\",\\"https://image.ventix.top/img01/202101101724339.png\\",\\"https://image.ventix.top/img01/202101101726397.png\\",\\"https://image.ventix.top/img01/202101101727590.png\\"],\\"datePublished\\":\\"2022-04-06T00:00:00.000Z\\",\\"dateModified\\":\\"2025-02-04T07:02:53.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"ventixy\\",\\"url\\":\\"https://www.ventix.top\\"}]}"]]},"headers":[{"level":2,"title":"VMware Workstation","slug":"vmware-workstation","link":"#vmware-workstation","children":[{"level":3,"title":"虚拟交换机和网卡","slug":"虚拟交换机和网卡","link":"#虚拟交换机和网卡","children":[]},{"level":3,"title":"Bridged(桥接)","slug":"bridged-桥接","link":"#bridged-桥接","children":[]},{"level":3,"title":"NAT模式","slug":"nat模式","link":"#nat模式","children":[]},{"level":3,"title":"仅主机模式","slug":"仅主机模式","link":"#仅主机模式","children":[]},{"level":3,"title":"虚拟机静态网络IP","slug":"虚拟机静态网络ip","link":"#虚拟机静态网络ip","children":[]},{"level":3,"title":"添加硬盘或扩容","slug":"添加硬盘或扩容","link":"#添加硬盘或扩容","children":[]},{"level":3,"title":"虚拟机自启动设置","slug":"虚拟机自启动设置","link":"#虚拟机自启动设置","children":[]}]},{"level":2,"title":"Oracle VirtualBox","slug":"oracle-virtualbox","link":"#oracle-virtualbox","children":[{"level":3,"title":"VirtualBox安装","slug":"virtualbox安装","link":"#virtualbox安装","children":[]},{"level":3,"title":"下载Vagrant镜像","slug":"下载vagrant镜像","link":"#下载vagrant镜像","children":[]},{"level":3,"title":"Vagrant新建虚拟机","slug":"vagrant新建虚拟机","link":"#vagrant新建虚拟机","children":[]}]},{"level":2,"title":"Linux安装和设置","slug":"linux安装和设置","link":"#linux安装和设置","children":[{"level":3,"title":"CentOS","slug":"centos","link":"#centos","children":[]},{"level":3,"title":"Ubuntu","slug":"ubuntu","link":"#ubuntu","children":[]},{"level":3,"title":"Manjaro","slug":"manjaro","link":"#manjaro","children":[]},{"level":3,"title":"On-my-zsh","slug":"on-my-zsh","link":"#on-my-zsh","children":[]}]}],"git":{"createdTime":1736522381000,"updatedTime":1738652573000,"contributors":[{"name":"drizzle","email":"msdrizzle@outlook.com","commits":5}]},"readingTime":{"minutes":15.68,"words":4704},"filePathRelative":"posts/om/vm.md","localizedDate":"April 6, 2022","excerpt":"<h2>VMware Workstation</h2>\\n<h3>虚拟交换机和网卡</h3>\\n<p>在VMware<code>虚拟网络编辑器</code>中，也有三个 <strong>虚拟交换机</strong> 分别对应不同的网络模式：</p>\\n<div class=\\"hint-container info\\">\\n<p class=\\"hint-container-title\\">VMware相关网络虚拟设备</p>\\n<p>VMnet0：这是VMware用于虚拟 <code>桥接网络</code> 下的虚拟交换机;</p>\\n<p>VMnet1：这是VMware用于虚拟 <code>Host-Only</code> （仅主机）网络下的虚拟交换机;</p>\\n<p>VMnet8：这是VMware用于虚拟 <code>NAT网络</code> 下的虚拟交换机;</p>\\n</div>","autoDesc":true}');export{u as comp,m as data};
