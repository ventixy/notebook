import{_ as r}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as d,d as n,o}from"./app-BqUBbv7l.js";const s={};function l(e,t){return o(),d("div",null,t[0]||(t[0]=[n('<h2 id="存储接口和协议" tabindex="-1"><a class="header-anchor" href="#存储接口和协议"><span>存储接口和协议</span></a></h2><ul><li><strong>IDE、SCSI 已过时</strong>，被 SATA 和 SAS 取代。</li><li><strong>SATA（HDD &amp; SSD）适合大容量存储</strong>，但性能一般。</li><li><strong>SAS 适用于企业级 HDD/SSD</strong>，支持多设备级联，可靠性高。</li><li><strong>NVMe（PCIe/M.2/U.2）是当前最快的 SSD 方案</strong>，适用于高性能计算。</li><li>选择存储设备时，<strong>优先考虑 NVMe SSD，SATA 仅适合预算有限或大容量需求的情况</strong>。</li></ul><p><strong>不同存储设备的协议 &amp; 接口对比</strong></p><table><thead><tr><th><strong>存储类型</strong></th><th><strong>协议</strong></th><th><strong>接口</strong></th><th><strong>应用场景</strong></th></tr></thead><tbody><tr><td><strong>HDD（老旧型号）</strong></td><td>IDE</td><td>IDE（PATA）</td><td>早期 PC，光驱，已淘汰</td></tr><tr><td><strong>HDD（主流型号）</strong></td><td>SATA</td><td>SATA 3.0</td><td>机械硬盘，大容量存储</td></tr><tr><td><strong>HDD（企业级）</strong></td><td>SAS</td><td>SAS 12G</td><td>服务器存储，高可靠性</td></tr><tr><td><strong>SSD（入门级）</strong></td><td>SATA、AHCI</td><td>SATA 3.0、M.2（SATA）</td><td>适合低成本 SSD 方案</td></tr><tr><td><strong>SSD（高性能）</strong></td><td>NVMe</td><td>PCIe、M.2（NVMe）、U.2</td><td>高速存储、游戏、数据中心</td></tr><tr><td><strong>企业级 SSD</strong></td><td>NVMe、SAS</td><td>PCIe、U.2、SAS</td><td>服务器、高性能存储</td></tr></tbody></table><hr><h3 id="硬盘存储协议" tabindex="-1"><a class="header-anchor" href="#硬盘存储协议"><span>硬盘存储协议</span></a></h3><p>存储协议定义了数据在存储设备与主机之间的传输方式：</p><table><thead><tr><th><strong>协议</strong></th><th><strong>适用设备</strong></th><th><strong>特点</strong></th><th><strong>带宽</strong></th></tr></thead><tbody><tr><td><strong>IDE（ATA/Parallel ATA, PATA）</strong></td><td>旧式 HDD、光驱</td><td>并行传输，速率低，已被淘汰</td><td>133 MB/s（ATA-7）</td></tr><tr><td><strong>SCSI（Small Computer System Interface）</strong></td><td>服务器级 HDD、磁带机</td><td>高速并行传输，支持多设备</td><td>640 MB/s（Ultra-640 SCSI）</td></tr><tr><td><strong>SATA（Serial ATA）</strong></td><td>HDD、SATA SSD</td><td>串行传输，速率比 IDE 高</td><td>6 Gbps（SATA 3.0）</td></tr><tr><td><strong>SAS（Serial Attached SCSI）</strong></td><td>企业级 HDD、SAS SSD</td><td>串行 SCSI，支持级联设备，高可靠性</td><td>12 Gbps（SAS 3.0）</td></tr><tr><td><strong>AHCI（Advanced Host Controller Interface）</strong></td><td>SATA HDD、SATA SSD</td><td>传统 SATA 控制协议，低并行度</td><td>6 Gbps（SATA 3.0）</td></tr><tr><td><strong>NVMe（Non-Volatile Memory Express）</strong></td><td>NVMe SSD</td><td>专为 SSD 设计，超低延迟</td><td>32 Gbps（PCIe 3.0 x4），64 Gbps（PCIe 4.0 x4）</td></tr></tbody></table><hr><h3 id="硬盘存储接口" tabindex="-1"><a class="header-anchor" href="#硬盘存储接口"><span>硬盘存储接口</span></a></h3><p>存储接口决定了设备的物理连接方式及最大带宽：</p><table><thead><tr><th><strong>接口</strong></th><th><strong>协议支持</strong></th><th><strong>适用设备</strong></th><th><strong>最大带宽</strong></th></tr></thead><tbody><tr><td><strong>IDE（PATA）</strong></td><td>IDE</td><td>旧式 HDD、光驱</td><td>133 MB/s</td></tr><tr><td><strong>SCSI</strong></td><td>SCSI</td><td>服务器级 HDD、磁带机</td><td>640 MB/s</td></tr><tr><td><strong>SATA 3.0</strong></td><td>SATA、AHCI</td><td>HDD、SATA SSD</td><td>6 Gbps</td></tr><tr><td><strong>SAS 12G</strong></td><td>SAS</td><td>企业级 HDD、SAS SSD</td><td>12 Gbps</td></tr><tr><td><strong>PCIe 3.0 x4</strong></td><td>NVMe</td><td>NVMe SSD</td><td>32 Gbps</td></tr><tr><td><strong>PCIe 4.0 x4</strong></td><td>NVMe</td><td>NVMe SSD</td><td>64 Gbps</td></tr><tr><td><strong>M.2（SATA）</strong></td><td>SATA</td><td>SATA SSD</td><td>6 Gbps</td></tr><tr><td><strong>M.2（NVMe）</strong></td><td>NVMe</td><td>NVMe SSD</td><td>32 Gbps（PCIe 3.0 x4）或 64 Gbps（PCIe 4.0 x4）</td></tr><tr><td><strong>U.2（NVMe）</strong></td><td>NVMe</td><td>企业级 NVMe SSD</td><td>32 Gbps</td></tr><tr><td><strong>CFExpress</strong></td><td>NVMe</td><td>高速存储卡</td><td>最高 32 Gbps</td></tr></tbody></table><hr><h2 id="硬盘分区及使用" tabindex="-1"><a class="header-anchor" href="#硬盘分区及使用"><span>硬盘分区及使用</span></a></h2><p>硬盘分区是指<strong>将一个物理硬盘划分为多个逻辑部分</strong>的过程，每个逻辑部分被称为一个分区。每个分区可以独立地格式化为不同的文件系统，并且可以像独立的存储设备一样使用。</p><p>常见分区表类型：MBR（Master Boot Record）和GPT（GUID Partition Table）:</p><table><thead><tr><th>特性</th><th>MBR</th><th>GPT</th></tr></thead><tbody><tr><td><strong>最大分区大小</strong></td><td>2TB</td><td>几乎无限制（取决于操作系统）</td></tr><tr><td><strong>最大分区数量</strong></td><td>4 个主分区（或 3 个主分区 + 1 个扩展分区）</td><td>128 个（默认，可更多）</td></tr><tr><td><strong>兼容性</strong></td><td>兼容所有操作系统</td><td>需要 UEFI 支持（旧 BIOS 可能不支持）</td></tr><tr><td><strong>安全性</strong></td><td>无校验和</td><td>有校验和，支持数据完整性检查</td></tr><tr><td><strong>分区表备份</strong></td><td>无</td><td>有备份分区表</td></tr></tbody></table><div class="hint-container warning"><p class="hint-container-title">分区表类型及注意事项</p><ul><li>一块物理硬盘只能采用一种类型的分区表格式，要么是MBR（Master Boot Record），要么是GPT（GUID Partition Table）。</li><li>不需要一次性完成所有分区，可以根据需要随时调整分区布局，包括创建新分区、删除现有分区或者调整分区大小。</li></ul></div><p>分区的主要目的是更好地组织数据、安装多个操作系统或提高系统的性能和可靠性。</p><hr><h3 id="mbr详解" tabindex="-1"><a class="header-anchor" href="#mbr详解"><span>MBR详解</span></a></h3><p>MBR（Master Boot Record）（主引导记录）是传统硬盘分区表格式的一种，广泛应用于早期的个人电脑和服务器上。</p><div class="hint-container info"><p class="hint-container-title">MBR结构概述</p><p>MBR位于磁盘的第一个扇区（通常为512字节），包含以下几个关键部分：</p><ol><li><p><strong>引导代码（Boot Code）</strong>：占446字节，负责加载操作系统的引导加载程序。这部分代码在系统启动时由BIOS执行，用于找到并加载操作系统。</p></li><li><p><strong>分区表（Partition Table）</strong>：占64字节，描述了最多四个主分区的信息。每个分区表项占用16字节，因此理论上MBR只能直接管理四块主分区。如果需要更多分区，则可以创建一个扩展分区，在该扩展分区内建立逻辑分区。</p></li><li><p><strong>分区表结束标志（Magic Number）</strong>：最后两个字节固定为<code>0x55AA</code>，作为MBR的有效性检查标志。</p></li></ol></div><p><strong>分区类型</strong>:</p><ul><li><strong>主分区（Primary Partition）</strong>：可以直接安装操作系统并且能够独立引导的分区。</li><li><strong>扩展分区（Extended Partition）</strong>：为了克服MBR只能定义四个主分区的限制而引入的概念。扩展分区本身不能存储数据或安装操作系统，但它可以包含多个逻辑分区。</li><li><strong>逻辑分区（Logical Partition）</strong>：存在于扩展分区内的分区，理论上数量没有严格限制，但受限于可用的磁盘空间。</li></ul><hr><p>MBR的优点与缺点</p><p><strong>优点</strong>：</p><ul><li>广泛支持：几乎所有操作系统和硬件都支持MBR。</li><li>简单易用：对于大多数用户来说，配置和使用相对简单。</li></ul><p><strong>缺点</strong>：</p><ul><li>分区数量限制：仅能创建最多四个主分区，或者三个主分区加一个扩展分区。</li><li>兼容性问题：不支持超过2TB大小的磁盘。</li><li>安全性较低：MBR容易受到病毒攻击，因为它的位置固定且重要。</li></ul><p><strong>使用场景</strong>:</p><p>虽然GPT已经成为新系统的标准，但在以下情况下MBR仍然是合适的选择：</p><ul><li>需要确保与旧版软件和硬件的最大兼容性。</li><li>操作系统或某些应用程序明确要求使用MBR。</li><li>对于小于2TB的磁盘，特别是在不需要超过四个分区的情况下，MBR足够使用且简单直接。</li></ul><p>尽管随着GPT（GUID Partition Table）的出现，MBR逐渐被取代，但由于其广泛的兼容性和对旧系统的支持，仍然在许多场景中使用。</p><hr><h3 id="gpt分区" tabindex="-1"><a class="header-anchor" href="#gpt分区"><span>GPT分区</span></a></h3><p>GPT（GUID Partition Table）是现代硬盘使用的分区表标准，它是UEFI（统一可扩展固件接口）标准的一部分。相比于传统的MBR（主引导记录），GPT提供了更大的灵活性和可靠性，特别适合大容量硬盘和需要更多分区的场景。</p><div class="hint-container info"><p class="hint-container-title">GPT结构概述</p><p>GPT的设计旨在克服MBR的一些限制，如分区数量限制和支持的最大磁盘大小等。以下是GPT的主要组成部分：</p><ol><li><p><strong>保护MBR（Protective MBR）</strong>：</p><ul><li>位于磁盘的第一个扇区，目的是为了防止不支持GPT的旧工具误认为磁盘未分区或格式化。</li><li>包含一个类型为0xEE的单一分区条目，覆盖整个磁盘空间，告诉这些工具该磁盘使用了GPT而不是MBR。</li></ul></li><li><p><strong>主GPT头（Primary GPT Header）</strong>：</p><ul><li>紧随保护MBR之后，通常位于磁盘的第二个扇区（LBA 1）。</li><li>包含了关于磁盘的基本信息，如分区表的位置、大小以及校验和等。</li></ul></li><li><p><strong>分区表（Partition Entries）</strong>：</p><ul><li>存储在主GPT头之后的多个连续扇区中。</li><li>每个分区条目占用128字节，允许定义大量的分区（理论上最多可达128个，但实际受操作系统支持的数量限制）。</li><li>每个条目包含了分区的起始和结束位置、类型GUID、唯一标识符GUID以及其他属性。</li></ul></li><li><p><strong>备份GPT头（Backup GPT Header）和备份分区表</strong>：</p><ul><li>备份GPT头位于磁盘的最后一个扇区。</li><li>同样包含了一个完整的分区表副本，用于数据恢复和冗余保护。</li></ul></li></ol></div><p><strong>分区特点</strong></p><ul><li><strong>分区数量</strong>：理论上没有明确的数量限制，但在实践中，操作系统可能会施加限制。例如，在Windows系统中，默认情况下可以创建多达128个分区。</li><li><strong>分区大小</strong>：支持超过2TB的大容量硬盘，因为GPT使用64位来表示分区大小，这意味着它可以管理高达9.4ZB（zettabytes）的数据量。</li><li><strong>分区类型</strong>：每个分区都有一个唯一的GUID（全局唯一标识符），这使得分区识别更加准确和安全。</li></ul><p><strong>使用场景</strong></p><ul><li><strong>大容量硬盘</strong>：对于大于2TB的硬盘，必须使用GPT，因为MBR只能处理最大2TB的存储空间。</li><li><strong>多分区需求</strong>：当需要创建超过四个主分区时，GPT是一个更好的选择。</li><li><strong>增强的数据安全性与可靠性</strong>：由于有备份GPT头和分区表的存在，即使主GPT损坏，也可以通过备份进行恢复。</li></ul><h3 id="常见文件系统" tabindex="-1"><a class="header-anchor" href="#常见文件系统"><span>常见文件系统</span></a></h3><ol><li><p><strong>FAT32 (File Allocation Table 32)</strong></p><ul><li><strong>特点</strong>: 兼容性好，支持多种操作系统，但单个文件大小限制为4GB，分区大小限制为2TB。</li><li><strong>适用场景</strong>: USB闪存驱动器、SD卡等移动存储设备。</li></ul></li><li><p><strong>exFAT (Extended File Allocation Table)</strong></p><ul><li><strong>特点</strong>: 支持大文件和大分区，兼容性好，适合闪存设备。</li><li><strong>适用场景</strong>: 大容量USB闪存驱动器、SD卡。</li></ul></li><li><p><strong>NTFS (New Technology File System)</strong></p><ul><li><strong>特点</strong>: 支持大文件和大分区，具有文件权限、加密、压缩等功能，适合现代操作系统。</li><li><strong>适用场景</strong>: Windows系统盘和数据盘。</li></ul></li><li><p><strong>HFS+ (Hierarchical File System Plus)</strong></p><ul><li><strong>特点</strong>: 支持大文件和大分区，具有日志功能，适合macOS。</li><li><strong>适用场景</strong>: macOS系统盘和数据盘。</li></ul></li><li><p><strong>APFS (Apple File System)</strong></p><ul><li><strong>特点</strong>: 支持加密、快照、空间共享等功能，优化了SSD性能。</li><li><strong>适用场景</strong>: macOS High Sierra及更高版本的系统盘和数据盘。</li></ul></li><li><p><strong>ext4 (Fourth Extended File System)</strong></p><ul><li><strong>特点</strong>: 支持大文件和大分区，具有日志功能，适合Linux系统。</li><li><strong>适用场景</strong>: Linux系统盘和数据盘。</li></ul></li><li><p><strong>XFS</strong></p><ul><li><strong>特点</strong>: 高性能，支持大文件和大分区，适合高吞吐量应用。</li><li><strong>适用场景</strong>: Linux服务器和数据中心。</li></ul></li><li><p><strong>Btrfs (B-tree File System)</strong></p><ul><li><strong>特点</strong>: 支持快照、压缩、RAID等功能，适合现代Linux系统。</li><li><strong>适用场景</strong>: Linux系统盘和数据盘。</li></ul></li></ol><table><thead><tr><th>文件系统</th><th>最大文件大小</th><th>最大分区大小</th><th>主要特点</th><th>Windows</th><th>Linux</th><th>macOS</th></tr></thead><tbody><tr><td>FAT32</td><td>4GB</td><td>2TB</td><td>兼容性好</td><td>✅</td><td>✅</td><td>✅</td></tr><tr><td>exFAT</td><td>16EB</td><td>128PB</td><td>大文件支持</td><td>✅</td><td>✅</td><td>✅</td></tr><tr><td>NTFS</td><td>16TB</td><td>256TB</td><td>文件权限、加密</td><td>✅</td><td>部分支持</td><td>只读</td></tr><tr><td>HFS+</td><td>8EB</td><td>8EB</td><td>日志功能</td><td>❌</td><td>✅</td><td>✅</td></tr><tr><td>APFS</td><td>8EB</td><td>8EB</td><td>加密、快照</td><td>❌</td><td>❌</td><td>✅</td></tr><tr><td>ext4</td><td>16TB</td><td>1EB</td><td>日志功能</td><td>❌</td><td>✅</td><td>❌</td></tr><tr><td>XFS</td><td>8EB</td><td>8EB</td><td>高性能</td><td>❌</td><td>✅</td><td>❌</td></tr><tr><td>Btrfs</td><td>16EB</td><td>16EB</td><td>快照、压缩</td><td>❌</td><td>✅</td><td>❌</td></tr></tbody></table><p>不同操作系统下的文件系统差异：</p><ul><li><strong>Windows</strong> 主要使用 <strong>NTFS</strong> 和 <strong>exFAT</strong>，兼容 <strong>FAT32</strong>。</li><li><strong>Linux</strong> 主要使用 <strong>ext4</strong>、<strong>XFS</strong> 和 <strong>Btrfs</strong>，兼容 <strong>FAT32</strong> 和 <strong>exFAT</strong>。</li><li><strong>macOS</strong> 主要使用 <strong>APFS</strong> 和 <strong>HFS+</strong>，兼容 <strong>FAT32</strong> 和 <strong>exFAT</strong>。</li></ul><p><strong>FAT32</strong> 和 <strong>exFAT</strong> 在三大操作系统中均有良好支持，适合跨平台使用</p>',49)]))}const a=r(s,[["render",l],["__file","harddisk.html.vue"]]),S=JSON.parse('{"path":"/posts/cs/harddisk.html","title":"硬盘接口和协议，硬盘分区","lang":"en-US","frontmatter":{"article":true,"date":"2024-06-08T00:00:00.000Z","category":["Hard Disk"],"tag":["SATA","MBR","GPT"],"shortTitle":"硬盘基础介绍","title":"硬盘接口和协议，硬盘分区","description":"存储接口和协议 IDE、SCSI 已过时，被 SATA 和 SAS 取代。 SATA（HDD & SSD）适合大容量存储，但性能一般。 SAS 适用于企业级 HDD/SSD，支持多设备级联，可靠性高。 NVMe（PCIe/M.2/U.2）是当前最快的 SSD 方案，适用于高性能计算。 选择存储设备时，优先考虑 NVMe SSD，SATA 仅适合预算有限...","head":[["meta",{"property":"og:url","content":"https://x.app/posts/cs/harddisk.html"}],["meta",{"property":"og:site_name","content":"doc"}],["meta",{"property":"og:title","content":"硬盘接口和协议，硬盘分区"}],["meta",{"property":"og:description","content":"存储接口和协议 IDE、SCSI 已过时，被 SATA 和 SAS 取代。 SATA（HDD & SSD）适合大容量存储，但性能一般。 SAS 适用于企业级 HDD/SSD，支持多设备级联，可靠性高。 NVMe（PCIe/M.2/U.2）是当前最快的 SSD 方案，适用于高性能计算。 选择存储设备时，优先考虑 NVMe SSD，SATA 仅适合预算有限..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"en-US"}],["meta",{"property":"og:updated_time","content":"2025-02-03T09:20:22.000Z"}],["meta",{"property":"article:author","content":"ventixy"}],["meta",{"property":"article:tag","content":"SATA"}],["meta",{"property":"article:tag","content":"MBR"}],["meta",{"property":"article:tag","content":"GPT"}],["meta",{"property":"article:published_time","content":"2024-06-08T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2025-02-03T09:20:22.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"硬盘接口和协议，硬盘分区\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2024-06-08T00:00:00.000Z\\",\\"dateModified\\":\\"2025-02-03T09:20:22.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"ventixy\\",\\"url\\":\\"https://www.ventix.top\\"}]}"]]},"headers":[{"level":2,"title":"存储接口和协议","slug":"存储接口和协议","link":"#存储接口和协议","children":[{"level":3,"title":"硬盘存储协议","slug":"硬盘存储协议","link":"#硬盘存储协议","children":[]},{"level":3,"title":"硬盘存储接口","slug":"硬盘存储接口","link":"#硬盘存储接口","children":[]}]},{"level":2,"title":"硬盘分区及使用","slug":"硬盘分区及使用","link":"#硬盘分区及使用","children":[{"level":3,"title":"MBR详解","slug":"mbr详解","link":"#mbr详解","children":[]},{"level":3,"title":"GPT分区","slug":"gpt分区","link":"#gpt分区","children":[]},{"level":3,"title":"常见文件系统","slug":"常见文件系统","link":"#常见文件系统","children":[]}]}],"git":{"createdTime":1738564513000,"updatedTime":1738574422000,"contributors":[{"name":"drizzle","email":"msdrizzle@outlook.com","commits":2}]},"readingTime":{"minutes":9.19,"words":2756},"filePathRelative":"posts/cs/harddisk.md","localizedDate":"June 8, 2024","excerpt":"<h2>存储接口和协议</h2>\\n<ul>\\n<li><strong>IDE、SCSI 已过时</strong>，被 SATA 和 SAS 取代。</li>\\n<li><strong>SATA（HDD &amp; SSD）适合大容量存储</strong>，但性能一般。</li>\\n<li><strong>SAS 适用于企业级 HDD/SSD</strong>，支持多设备级联，可靠性高。</li>\\n<li><strong>NVMe（PCIe/M.2/U.2）是当前最快的 SSD 方案</strong>，适用于高性能计算。</li>\\n<li>选择存储设备时，<strong>优先考虑 NVMe SSD，SATA 仅适合预算有限或大容量需求的情况</strong>。</li>\\n</ul>","autoDesc":true}');export{a as comp,S as data};
